{"version":3,"sources":["init.js","invoice.js"],"names":["initHome","$","sideNav","initInvoiceCreationHandlers","addToAmount","p","amount","parseInt","price","total_finished","total_queries","text","applyDiscounts","percentage_discount","val","amount_discount","discounted_amount","updateAmountTotal","each","productos","k","v","ajaxCallApi","servicios","id","elem","ajax","url","method","success","data","error","xhr","ajaxOptions","thrownError","status","alert","split","click","length"],"mappings":"AAOA,QAAAA,YAEAC,EAAA,oBAAAC,UCFA,QAAAC,+BA4BA,QAAAC,GAAAC,GAEAC,GAAAC,SAAAF,EAAAG,OACAC,GAAAC,EAAA,GACAT,EAAA,iBAAAU,KAAAJ,SAAAD,IAEAG,IAIA,QAAAG,KAEA,GAAAC,GAAAZ,EAAA,wBAAAa,MACAC,EAAAd,EAAA,oBAAAa,MACAE,EAAAV,CAEA,KAAAO,IACAG,GAAAV,GAAAO,EAAA,MAEA,IAAAE,IACAC,GAAAD,GAGAd,EAAA,iBAAAU,KAAAJ,SAAAS,IAGA,QAAAC,KAEAhB,EAAAiB,KAAAC,EAAA,SAAAC,EAAAC,GACA,IAAAA,GACAC,EAAAD,EAAA,cAGApB,EAAAiB,KAAAK,EAAA,SAAAH,EAAAC,GACA,IAAAA,GACAC,EAAAD,EAAA,cAGA,QAAAC,GAAAE,EAAAC,GAEAxB,EAAAyB,MACAC,IAAA,QAAAF,EAAA,IAAAD,EACAI,OAAA,MACAC,QAAA,SAAAC,GACA1B,EAAA0B,IAEAC,MAAA,SAAAC,EAAAC,EAAAC,GACA,KAAAF,EAAAG,QACAC,MAAAF,MA1EA,GAAAf,GAAAlB,EAAA,iBAAAa,MAAAuB,MAAA,KACAd,EAAAtB,EAAA,iBAAAa,MAAAuB,MAAA,KACA/B,EAAA,EACAG,EAAA,EACAC,EAAA,CAEAT,GAAA,cAAAqC,MAAA,WAEAhC,EAAA,EACAG,EAAA,EACAU,EAAAlB,EAAA,iBAAAa,MAAAuB,MAAA,KACAd,EAAAtB,EAAA,iBAAAa,MAAAuB,MAAA,KACA3B,EAAAS,EAAAoB,OAAAhB,EAAAgB,OACA,IAAApB,EAAA,IACAT,IACA,IAAAa,EAAA,IACAb,IAEAO,MAGAhB,EAAA,oBAAAqC,MAAA,WAEA1B","file":"ddsi.min.js","sourcesContent":["/**\n * Handcrafted with ♥ Beebit Solutions\n * Real coffee was used in this project development\n * Licensed under MIT License\n * contacto@beebit.es\n */\n\nfunction initHome()\n{\n    $(\".button-collapse\").sideNav();\n}","/**\n * Handcrafted with ♥ Beebit Solutions\n * Real coffee was used in this project development\n * Licensed under MIT License\n * contacto@beebit.es\n */\n\nfunction initInvoiceCreationHandlers()\n{\n    var productos = $(\"#products_ids\").val().split(',');\n    var servicios = $(\"#services_ids\").val().split(',');\n    var amount = 0;\n    var total_finished = 0;\n    var total_queries = 0;\n\n    $(\"#get_total\").click(function()\n    {\n        amount = 0;\n        total_finished = 0;\n        productos = $(\"#products_ids\").val().split(',');\n        servicios = $(\"#services_ids\").val().split(',');\n        total_queries = productos.length + servicios.length;\n        if(productos[0] == \"\")\n            total_queries --;\n        if(servicios[0] == \"\")\n            total_queries --;\n\n        updateAmountTotal();\n    });\n\n    $(\"#apply_discounts\").click(function()\n    {\n        applyDiscounts();\n    });\n\n    function addToAmount(p)\n    {\n        amount += parseInt(p.price);\n        if(total_finished == total_queries-1) {\n            $(\"#total_amount\").text(parseInt(amount));\n        }\n        total_finished++;\n\n    }\n\n    function applyDiscounts()\n    {\n        var percentage_discount = $(\"#percentage_discount\").val();\n        var amount_discount = $(\"#amount_discount\").val();\n        var discounted_amount = amount;\n\n        if(percentage_discount != \"\")\n            discounted_amount -= (amount*(percentage_discount/100));\n\n        if(amount_discount != \"\")\n            discounted_amount -= amount_discount;\n\n\n        $(\"#total_amount\").text(parseInt(discounted_amount));\n    }\n\n    function updateAmountTotal()\n    {\n        $.each(productos,function(k,v) {\n            if(v != \"\")\n                ajaxCallApi(v,\"producto\");\n        });\n\n        $.each(servicios,function(k,v){\n            if(v != \"\")\n                ajaxCallApi(v,\"servicio\");\n        });\n    }\n    function ajaxCallApi(id,elem)\n    {\n        $.ajax({\n            url:\"/api/\"+elem+\"/\"+id,\n            method:\"get\",\n            success:function(data) {\n                addToAmount(data);\n            },\n            error:function (xhr, ajaxOptions, thrownError){\n                if(xhr.status==404) {\n                    alert(thrownError);\n                }\n            }\n        })\n    }\n}\n\n\n\n\n\n"],"sourceRoot":"/source/"}